---
title: JS Execution Context
description: JS 실행 컨텍스트 이해하기(작성중)
coverImage: https://firebasestorage.googleapis.com/v0/b/kingsjw7-f7e06.appspot.com/o/images%2Ftech%2Fcategories%2Fjavascript.png?alt=media&token=8e6d3d30-1416-4484-bb0a-163d529a5d99
writer: kingsjw7
---

# JS Execution Context
> Java Script의 핵심 동작원리 중 하나인 Execution Context(실행 컨텍스트)를 내가 이해한 만큼 기록해보자

## 실행 컨텍스트(Execution Context)는 무엇일까?
- 자바스크립트 기본 동작 원리 중 하나이다.
- ECMA 스펙에서 실행 컨텍스트는 실행 가능한 코드를 형상화하고 구분하는 추상적인 개념이라고 정의한다.
- 실행 가능한 코드가 실제로 실행되고 관리 되는 영역을 의미한다.
- 자바스크립트 엔진이 코드를 실행할 때 필요한 정보를 의미한다.

## 자바스크립트 코드는 어떻게 동작하고 있을까?
Java Script 엔진은 소스 코드를 평가와 실행, 2가지 과정으로 나누어 동작한다.

평가 과정에서 **실행 가능한 코드(Execution Code)** 를 만나면 그 코드를 평가해서 **실행 컨텍스트(Execution Context)** 로 만든다.
> 이 때 평가 과정에서 실행 컨텍스트를 생성하고, 변수/함수 등의 선언문만 먼저 실행하여 식별자를 키로 실행 컨텍스트가 관리하는 스코프(렉시컬 환경)에 등록한다.

이 때 **실행 가능한 코드** 는 다음과 같다.
- 전역 코드: 전역의 정의된 함수 (클래스의 내부는 포함 x)
- 함수 코드: 함수 내부에 존재하는 코드 (함수 내부에 중첩된 클래스, 함수 내부 코드는 포함 x)
- eval 코드: eval 함수 (모던 Java Script에선 잘 쓰이지 않는다. 이유는 따로 언급 하지 않겠다.)
> 위 실행 가능한 코드 에 따라서 실행 컨텍스트 를 초기화하는 환경과 과정이 다르다.\
> 특히 eval 함수는 **렉시컬 환경(Lexical Environment)** 이 아닌 별도의 동적 환경에서 실행된다.

컨텍스트는 만들어지면서 평가한 코드에 대한 정보를 정리하여 담아두는데 그 정보들은 다음과 같다.
- 어떤 파라미터와 변수, 함수들이 있는지 (실제 아직 그것이 어떤 값을 갖게 되는지, 어떤 내용의 함수인지는 모르지만)
- 어떤 스코프를 갖게되는지
- This를 어떻게 바인딩할 것인지 등등

실행 컨텍스트가 생성되면 실행 스택(Executation Stack, 흔히 콜스택이라고 부르는 그 녀석..)에 푸시된다.

실행 스택에서 실행 컨텍스트는 가지고 있는 정보를 바탕으로 코드가 실행된다.(이 때가 런타임이다.)

코드를 실행 시키다 변수를 만나게 되면 해당 변수 값을 실행 컨텍스트에 변수 관련 오브젝트에 변수 값을 맵핑한다.

함수 실행문을 만나면 위의 동작들을 반복하고 더이상 반복할게 없다면 종료되고 실행 스택에서 해당 실행 컨텍스트는 소멸되고 다음 실행 컨텍스트를 실행한다.

모든 실행 컨텍스트가 끝날 때 까지 위 과정이 반복되고 더이상 반복할게 없다면 종료된다.

> 뭔가 노이만 머신 구조랑 비슷한 느낌이다 ㄷㄷ

### 이제 깔끔하게 정리해서 이해해보자!
자바스크립트 코드의 동작, 즉 평가와 실행 과정은 다음과 같은 순으로 진행된다.
1. 전역 코드 평가
   - 선언문이 먼저 실행됨
   - 생성된 식별자는 



## 실행 컨텍스트(Execution Context)와 콜 스택(Call Stack)
> 실행 컨텍스트를 본격적으로 알아보기 전에 콜 스택이 뭔지 짚고 넘어가자


## 실행 컨텍스트(Execution Context)는 어떤 생겼을까?
실행 컨텍스트는 실행에 필요한 정보를 컴포넌트 여러개가 나누어 관리하도록 구성되어 있다.



